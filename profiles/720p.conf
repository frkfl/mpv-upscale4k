[hd-ready]
# Applies to 720p..900p
profile-cond=width >= 800 and width < 1600

# Deterministic OkLab (Björn Ottosson) BT.601/709 → BT.2020 normalizer
glsl-shaders-append="~~/shaders/autocolormatrix.glsl"

# Mild Clean+BlockFix (edge-aware denoise + flat deblock + dering + stochastic gating)
glsl-shaders-append="~~/shaders/mild_clean_blockfix.glsl"
glsl-shader-opts=clean_strength=0.45

# Full Color range improvement
glsl-shaders-append="~~/shaders/fullrange_improve.glsl"
#HDR-safe OkLCH vibrance
glsl-shaders-append="~~/shaders/oklch_vibrance.glsl"
glsl-shader-opts=vibrance=0.32,skin_protect=0.55,skin_hue=0.07,skin_width=0.08,mid_bias=0.50,gamma_in=1.0,gamma_out=1.05,chroma_tame=0.10
# A slight pop of color, not quite HDR, but a bit of punch
glsl-shaders-append="~~/shaders/chroma_pop.glsl"
glsl-shader-opts=amount=0.08,radius=1.0,clamp_c=0.05,gamma_in=1.0,gamma_out=1.0
# Lifting shadows
glsl-shaders-append="~~/shaders/log_shadow_lift.glsl"

# Tone - Skin
# Porcelain / Fair-Neutral
# High reflectance, bluish shadows — protect texture, add warmth.
glsl-shaders-append="~~/shaders/skin_universal.glsl"
glsl-shader-opts=target=0,strength=0.9,diffuse_adj=1.1,specular_adj=0.9,undertone_adj=1.2,reflectance_adj=1.1
# Light-Warm (Golden / Peach)
# Balanced warmth and highlight rolloff — natural cinematic midtone.
glsl-shaders-append="~~/shaders/skin_universal.glsl"
glsl-shader-opts=target=1,strength=0.9,diffuse_adj=1.0,specular_adj=1.0,undertone_adj=1.0,reflectance_adj=1.0
# Olive / Mediterranean
# Preserve subtle green-gold undertones and shadow openness.
glsl-shaders-append="~~/shaders/skin_universal.glsl"
glsl-shader-opts=target=2,strength=0.9,diffuse_adj=1.1,specular_adj=0.9,undertone_adj=1.1,reflectance_adj=1.1
# Tan / Light Brown
# Keep brightness contrast and midrange body — protect highlights.
glsl-shaders-append="~~/shaders/skin_universal.glsl"
glsl-shader-opts=target=3,strength=0.9,diffuse_adj=1.0,specular_adj=1.0,undertone_adj=1.0,reflectance_adj=1.1
# Brown-Warm (Caramel / Bronze)
# Lift separation in low-key scenes, maintain warmth in lights.
glsl-shaders-append="~~/shaders/skin_universal.glsl"
glsl-shader-opts=target=4,strength=0.9,diffuse_adj=1.0,specular_adj=1.0,undertone_adj=1.1,reflectance_adj=1.15
# Deep Brown / Ebony — v2 tuned for backlight and SDR compression
glsl-shaders-append="~~/shaders/skin_universal.glsl"
glsl-shader-opts=target=5,strength=1.0,diffuse_adj=1.25,specular_adj=0.9,undertone_adj=1.15,reflectance_adj=1.3
# Deep Warm (Mahogany)
# Keep red/orange undertones natural, manage saturation at highlights.
glsl-shaders-append="~~/shaders/skin_universal.glsl"
glsl-shader-opts=target=6,strength=1.0,diffuse_adj=1.0,specular_adj=0.9,undertone_adj=1.1,reflectance_adj=1.1

# Details additions
glsl-shaders-append="~~/shaders-dl/skin_texture_amplifier.glsl"
# Static to break further bad compression
glsl-shaders-append="~~/shaders-dl/noise_static_luma.hook"
# Deband
glsl-shaders-append="~~/shaders-dl/hdeband.glsl"
# Hard sharpening
glsl-shaders-append="~~/shaders-dl/LumaSharpen.glsl"

# Texture Balance Map (TBM) – pre-upscale texture density equalization
glsl-shaders-append="~~/shaders/tbm.glsl"
glsl-shader-opts=tbm_base_strength=0.011,tbm_a_low=0.010,tbm_a_high=0.140

# C - Upscaling 4K
glsl-shaders-append="~~/shaders-dl/ravu-r4.hook"
glsl-shaders-append="~~/shaders-dl/CfL_Prediction_RT.glsl"
glsl-shaders-append="~~/shaders-dl/KrigBilateral.glsl"
glsl-shaders-append="~~/shaders-dl/FSRCNNX_x2_8-0-4-1.glsl"
glsl-shaders-append="~~/shaders-dl/SSimSuperRes.glsl"
glsl-shaders-append="~~/shaders-dl/SSimDownscaler.glsl"
# Post-sharpen anti-ringing mop-up
glsl-shaders-append="~~/shaders/ringing_guard.glsl"
glsl-shader-opts='strength=0.85:radius=1.5:gamma_in=1.0:gamma_out=1.0:lobe_strength=0.65:lobe_threshold=0.015:lobe_priority=0.65:delta_cap=0.5:apply_threshold=0.02'
# Edge AA (stabilizes FSR/SSim ringing in motion)
glsl-shaders-append="~~/shaders/smaa.glsl"

# Quality improvements
glsl-shader-opts=edge_strength=0.68,corner_strength=0.22,gamma=1.0
# Temporal sharpen (TXAA-lite; keep modest)
glsl-shaders-append="~~/shaders/temporal_sharpen.glsl"
glsl-shader-opts=strength=1.50,motion_sense=0.65,decay=0.85,radius=1.0,clamp_amt=0.028,thresh=0.018,gamma_in=1.0,gamma_out=1.0
# Hair-aware sharpen (detail recovery)
glsl-shaders-append="~~/shaders/hair_aware_sharpen.glsl"
glsl-shader-opts=sharp_amt=0.64,hf_gain=1.65,flat_guard=0.92,temp_sense=0.68,clamp_amt=0.026
# Edge-aware sharpen — **reined in** but still strong
glsl-shaders-append="~~/shaders/masked_sharpen.glsl"
glsl-shader-opts=strength=0.40,clamp_amt=0.038,edge_low=0.02,edge_high=0.24,flat_protect=0.88,motion_gate=0.65,gamma_in=1.0,gamma_out=1.0
# Temporal sharpen — **calmer in motion**
glsl-shaders-append="~~/shaders/temporal_sharpen.glsl"
glsl-shader-opts=strength=0.36,motion_sense=0.80,decay=0.90,radius=1.0,clamp_amt=0.034,thresh=0.020,gamma_in=1.0,gamma_out=1.0
# Micro-contrast — a touch less
glsl-shaders-append="~~/shaders/micro_contrast.glsl"
glsl-shader-opts=radius=0.8,amount=0.12,threshold=0.02,gamma_in=1.0,gamma_out=1.0

# Details additions
glsl-shaders-append="~~/shaders-dl/skin_texture_amplifier.glsl"

# Hair-aware sharpen (detail recovery)
glsl-shaders-append="~~/shaders/hair_aware_sharpen.glsl"
glsl-shader-opts=sharp_amt=0.64,hf_gain=1.65,flat_guard=0.92,temp_sense=0.68,clamp_amt=0.026
# Add some texturing to uniform colors - anti plastic
glsl-shaders-append="~~/shaders/texture_classify.glsl"
# Details additions
glsl-shaders-append="~~/shaders-dl/skin_texture_amplifier.glsl"
# Micro Detail Enhancer (Luma-only, edge-gated)
glsl-shaders-append="~~/shaders/micro_detail_luma.glsl"
glsl-shader-opts=strength=0.28,threshold=0.004
# Skin Detail Enhancer (skin-gated luma microtexture, grain-free output)
glsl-shaders-append="~~/shaders/skin_detail_luma.glsl"
glsl-shader-opts=strength=0.18,skin_hue=0.075,skin_width=0.070,skin_soft=0.030,freq=1.25,anisotropy=0.55

# Light temporal texture
glsl-shaders-append="~~/shaders/temporal_blue_grain.glsl"
glsl-shader-opts=strength=0.01,chroma=0.5,grain_size=1.2
glsl-shaders-append="~~/shaders/temporal_blue_grain.glsl"
glsl-shader-opts=strength=0.020,chroma=0.5,grain_size=1.2
